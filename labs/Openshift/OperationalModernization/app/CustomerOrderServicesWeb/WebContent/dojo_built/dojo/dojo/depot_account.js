/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{reset:function(){dojo.forEach(this.getDescendants(),function(_1){if(_1.reset){_1.reset();}});},validate:function(){var _2=false;return dojo.every(dojo.map(this.getDescendants(),function(_3){_3._hasBeenBlurred=true;var _4=_3.disabled||!_3.validate||_3.validate();if(!_4&&!_2){dojo.window.scrollIntoView(_3.containerNode||_3.domNode);_3.focus();_2=true;}return _4;}),function(_5){return _5;});},setValues:function(_6){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",_6);},_setValueAttr:function(_7){var _8={};dojo.forEach(this.getDescendants(),function(_9){if(!_9.name){return;}var _a=_8[_9.name]||(_8[_9.name]=[]);_a.push(_9);});for(var _b in _8){if(!_8.hasOwnProperty(_b)){continue;}var _c=_8[_b],_d=dojo.getObject(_b,false,_7);if(_d===undefined){continue;}if(!dojo.isArray(_d)){_d=[_d];}if(typeof _c[0].checked=="boolean"){dojo.forEach(_c,function(w,i){w.set("value",dojo.indexOf(_d,w.value)!=-1);});}else{if(_c[0].multiple){_c[0].set("value",_d);}else{dojo.forEach(_c,function(w,i){w.set("value",_d[i]);});}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var _e={};dojo.forEach(this.getDescendants(),function(_f){var _10=_f.name;if(!_10||_f.disabled){return;}var _11=_f.get("value");if(typeof _f.checked=="boolean"){if(/Radio/.test(_f.declaredClass)){if(_11!==false){dojo.setObject(_10,_11,_e);}else{_11=dojo.getObject(_10,false,_e);if(_11===undefined){dojo.setObject(_10,null,_e);}}}else{var ary=dojo.getObject(_10,false,_e);if(!ary){ary=[];dojo.setObject(_10,ary,_e);}if(_11!==false){ary.push(_11);}}}else{var _12=dojo.getObject(_10,false,_e);if(typeof _12!="undefined"){if(dojo.isArray(_12)){_12.push(_11);}else{dojo.setObject(_10,[_12,_11],_e);}}else{dojo.setObject(_10,_11,_e);}}});return _e;},isValid:function(){this._invalidWidgets=dojo.filter(this.getDescendants(),function(_13){return !_13.disabled&&_13.isValid&&!_13.isValid();});return !this._invalidWidgets.length;},onValidStateChange:function(_14){},_widgetChange:function(_15){var _16=this._lastValidState;if(!_15||this._lastValidState===undefined){_16=this.isValid();if(this._lastValidState===undefined){this._lastValidState=_16;}}else{if(_15.isValid){this._invalidWidgets=dojo.filter(this._invalidWidgets||[],function(w){return (w!=_15);},this);if(!_15.isValid()&&!_15.get("disabled")){this._invalidWidgets.push(_15);}_16=(this._invalidWidgets.length===0);}}if(_16!==this._lastValidState){this._lastValidState=_16;this.onValidStateChange(_16);}},connectChildren:function(){dojo.forEach(this._changeConnections,dojo.hitch(this,"disconnect"));var _17=this;var _18=(this._changeConnections=[]);dojo.forEach(dojo.filter(this.getDescendants(),function(_19){return _19.validate;}),function(_1a){_18.push(_17.connect(_1a,"validate",dojo.hitch(_17,"_widgetChange",_1a)));_18.push(_17.connect(_1a,"_setDisabledAttr",dojo.hitch(_17,"_widgetChange",_1a)));});this._widgetChange(null);},startup:function(){this.inherited(arguments);this._changeConnections=[];this.connectChildren();}});}if(!dojo._hasResource["dijit.form.Form"]){dojo._hasResource["dijit.form.Form"]=true;dojo.provide("dijit.form.Form");dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{action:"",method:"",encType:"","accept-charset":"",accept:"",target:""}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(_1b){},onExecute:function(){},_setEncTypeAttr:function(_1c){this.encType=_1c;dojo.attr(this.domNode,"encType",_1c);if(dojo.isIE){this.domNode.encoding=_1c;}},postCreate:function(){if(dojo.isIE&&this.srcNodeRef&&this.srcNodeRef.attributes){var _1d=this.srcNodeRef.attributes.getNamedItem("encType");if(_1d&&!_1d.specified&&(typeof _1d.value=="string")){this.set("encType",_1d.value);}}this.inherited(arguments);},reset:function(e){var _1e={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(_1e)===false)&&_1e.returnValue){this.inherited(arguments,[]);}},onReset:function(e){return true;},_onReset:function(e){this.reset(e);dojo.stopEvent(e);return false;},_onSubmit:function(e){var fp=dijit.form.Form.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){dojo.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){dojo.stopEvent(e);}},onSubmit:function(e){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(_1f){var _20=this;dojo.mixin(_20,_1f);_20.node=_1f.node;_20._showArgs=dojo.mixin({},_1f);_20._showArgs.node=_20.node;_20._showArgs.duration=_20.showDuration;_20.showAnim=_20.showFunc(_20._showArgs);_20._hideArgs=dojo.mixin({},_1f);_20._hideArgs.node=_20.node;_20._hideArgs.duration=_20.hideDuration;_20.hideAnim=_20.hideFunc(_20._hideArgs);dojo.connect(_20.showAnim,"beforeBegin",dojo.hitch(_20.hideAnim,"stop",true));dojo.connect(_20.hideAnim,"beforeBegin",dojo.hitch(_20.showAnim,"stop",true));},show:function(_21){return this.showAnim.play(_21||0);},hide:function(_22){return this.hideAnim.play(_22||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_23={_fire:function(evt,_24){if(this[evt]){this[evt].apply(this,_24||[]);}return this;}};var _25=function(_26){this._index=-1;this._animations=_26||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_25,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_27,_28){if(!this._current){this._current=this._animations[this._index=0];}if(!_28&&this._current.status()=="playing"){return this;}var _29=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_2a=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_2b=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_29);d.disconnect(_2a);d.disconnect(_2b);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_2c,_2d){this.pause();var _2e=this.duration*_2c;this._current=null;d.some(this._animations,function(a){if(a.duration<=_2e){this._current=a;return true;}_2e-=a.duration;return false;});if(this._current){this._current.gotoPercent(_2e/this._current.duration,_2d);}return this;},stop:function(_2f){if(this._current){if(_2f){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_25,_23);dojo.fx.chain=function(_30){return new _25(_30);};var _31=function(_32){this._animations=_32||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_32,function(a){var _33=a.duration;if(a.delay){_33+=a.delay;}if(this.duration<_33){this.duration=_33;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var _34=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){_34._connects.push(d.connect(_34._pseudoAnimation,evt,function(){_34._fire(evt,arguments);}));});};d.extend(_31,{_doAction:function(_35,_36){d.forEach(this._animations,function(a){a[_35].apply(a,_36);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_37,_38){var t=this._pseudoAnimation;t[_37].apply(t,_38);},play:function(_39,_3a){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_3b,_3c){var ms=this.duration*_3b;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_3c);});this._call("gotoPercent",arguments);return this;},stop:function(_3d){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_31,_23);dojo.fx.combine=function(_3e){return new _31(_3e);};dojo.fx.wipeIn=function(_3f){var _40=_3f.node=d.byId(_3f.node),s=_40.style,o;var _41=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _42=d.style(_40,"height");return Math.max(_42,1);}},end:function(){return _40.scrollHeight;}}}},_3f));d.connect(_41,"onEnd",function(){s.height="auto";s.overflow=o;});return _41;};dojo.fx.wipeOut=function(_43){var _44=_43.node=d.byId(_43.node),s=_44.style,o;var _45=d.animateProperty(d.mixin({properties:{height:{end:1}}},_43));d.connect(_45,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(_45,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return _45;};dojo.fx.slideTo=function(_46){var _47=_46.node=d.byId(_46.node),top=null,_48=null;var _49=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);_48=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;_48=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=_48+"px";}};})(_47);_49();var _4a=d.animateProperty(d.mixin({properties:{top:_46.top||0,left:_46.left||0}},_46));d.connect(_4a,"beforeBegin",_4a,_49);return _4a;};})();}if(!dojo._hasResource["dijit.TitlePane"]){dojo._hasResource["dijit.TitlePane"]=true;dojo.provide("dijit.TitlePane");dojo.declare("dijit.TitlePane",[dijit.layout.ContentPane,dijit._Templated,dijit._CssStateMixin],{title:"",open:true,toggleable:true,tabIndex:"0",duration:dijit.defaultDuration,baseClass:"dijitTitlePane",templateString:dojo.cache("dijit","templates/TitlePane.html","<div>\n\t<div dojoAttachEvent=\"onclick:_onTitleClick, onkeypress:_onTitleKey\"\n\t\t\tclass=\"dijitTitlePaneTitle\" dojoAttachPoint=\"titleBarNode\">\n\t\t<div class=\"dijitTitlePaneTitleFocus\" dojoAttachPoint=\"focusNode\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"arrowNode\" class=\"dijitArrowNode\" waiRole=\"presentation\"\n\t\t\t/><span dojoAttachPoint=\"arrowNodeInner\" class=\"dijitArrowNodeInner\"></span\n\t\t\t><span dojoAttachPoint=\"titleNode\" class=\"dijitTitlePaneTextNode\"></span>\n\t\t</div>\n\t</div>\n\t<div class=\"dijitTitlePaneContentOuter\" dojoAttachPoint=\"hideNode\" waiRole=\"presentation\">\n\t\t<div class=\"dijitReset\" dojoAttachPoint=\"wipeNode\" waiRole=\"presentation\">\n\t\t\t<div class=\"dijitTitlePaneContentInner\" dojoAttachPoint=\"containerNode\" waiRole=\"region\" tabindex=\"-1\" id=\"${id}_pane\">\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn't work right on node w/padding etc.  Put padding on inner div. -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"),attributeMap:dojo.delegate(dijit.layout.ContentPane.prototype.attributeMap,{title:{node:"titleNode",type:"innerHTML"},tooltip:{node:"focusNode",type:"attribute",attribute:"title"},id:""}),postCreate:function(){if(!this.open){this.hideNode.style.display=this.wipeNode.style.display="none";}if(this.toggleable){this._trackMouseState(this.titleBarNode,"dijitTitlePaneTitle");}this._setCss();dojo.setSelectable(this.titleNode,false);var _4b=this.hideNode,_4c=this.wipeNode;this._wipeIn=dojo.fx.wipeIn({node:this.wipeNode,duration:this.duration,beforeBegin:function(){_4b.style.display="";}});this._wipeOut=dojo.fx.wipeOut({node:this.wipeNode,duration:this.duration,onEnd:function(){_4b.style.display="none";}});this.inherited(arguments);},_setOpenAttr:function(_4d){if(this.open!==_4d){this.toggle();}dijit.setWaiState(this.containerNode,"hidden",this.open?"false":"true");dijit.setWaiState(this.focusNode,"pressed",this.open?"true":"false");},_setToggleableAttr:function(_4e){this.toggleable=_4e;dijit.setWaiRole(this.focusNode,_4e?"button":"heading");if(_4e){dijit.setWaiState(this.focusNode,"controls",this.id+"_pane");dojo.attr(this.focusNode,"tabIndex",this.tabIndex);}else{dojo.removeAttr(this.focusNode,"tabIndex");}this._setCss();},_setContentAttr:function(_4f){if(!this.open||!this._wipeOut||this._wipeOut.status()=="playing"){this.inherited(arguments);}else{if(this._wipeIn&&this._wipeIn.status()=="playing"){this._wipeIn.stop();}dojo.marginBox(this.wipeNode,{h:dojo.marginBox(this.wipeNode).h});this.inherited(arguments);if(this._wipeIn){this._wipeIn.play();}else{this.hideNode.style.display="";}}},toggle:function(){dojo.forEach([this._wipeIn,this._wipeOut],function(_50){if(_50&&_50.status()=="playing"){_50.stop();}});var _51=this[this.open?"_wipeOut":"_wipeIn"];if(_51){_51.play();}else{this.hideNode.style.display=this.open?"":"none";}this.open=!this.open;if(this.open){this._onShow();}else{this.onHide();}this._setCss();},_setCss:function(){var _52=this.titleBarNode||this.focusNode;if(this._titleBarClass){dojo.removeClass(_52,this._titleBarClass);}this._titleBarClass="dijit"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");dojo.addClass(_52,this._titleBarClass);this.arrowNodeInner.innerHTML=this.open?"-":"+";},_onTitleKey:function(e){if(e.charOrCode==dojo.keys.ENTER||e.charOrCode==" "){if(this.toggleable){this.toggle();}dojo.stopEvent(e);}else{if(e.charOrCode==dojo.keys.DOWN_ARROW&&this.open){this.containerNode.focus();e.preventDefault();}}},_onTitleClick:function(){if(this.toggleable){this.toggle();}},setTitle:function(_53){dojo.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",_53);}});}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",templateString:dojo.cache("dijit.form","templates/TextBox.html","<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" waiRole=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" dojoAttachPoint=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:dojo.isIE?"disabled":"",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),postMixInProperties:function(){var _54=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((_54=="hidden"||_54=="file")&&this.templateString==dijit.form.TextBox.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},_setPlaceHolderAttr:function(v){this.placeHolder=v;if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=dojo.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this._focused&&!this.textbox.value)?"":"none";}},_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_55,_56,_57){var _58;if(_55!==undefined){_58=this.filter(_55);if(typeof _57!="string"){if(_58!==null&&((typeof _58!="number")||!isNaN(_58))){_57=this.filter(this.format(_58,this.constraints));}else{_57="";}}}if(_57!=null&&_57!=undefined&&((typeof _57)!="number"||!isNaN(_57))&&this.textbox.value!=_57){this.textbox.value=_57;}this._updatePlaceHolder();this.inherited(arguments,[_58,_56]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_59){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_59);},_setDisplayedValueAttr:function(_5a){if(_5a===null||_5a===undefined){_5a="";}else{if(typeof _5a!="string"){_5a=String(_5a);}}this.textbox.value=_5a;this._setValueAttr(this.get("value"),undefined,_5a);},format:function(_5b,_5c){return ((_5b==null||_5b==undefined)?"":(_5b.toString?_5b.toString():_5b));},parse:function(_5d,_5e){return _5d;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _5f=this;setTimeout(function(){_5f._handleOnChange(_5f.get("value"),false);},0);}this._refreshState();},postCreate:function(){if(dojo.isIE){setTimeout(dojo.hitch(this,function(){var s=dojo.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _60=this.domNode.getElementsByTagName("INPUT");if(_60){for(var i=0;i<_60.length;i++){_60[i].style.fontFamily=ff;}}}}}),0);}this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput",this._onInput);}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput);}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(_61){return _61.substring(0,1).toUpperCase()+_61.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&dojo.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}this._updatePlaceHolder();},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _62;if(dojo.isIE){var _63=dojo.doc.selection.createRange();var _64=_63.parentElement();_62=_64==this.textbox&&_63.text.length==0;}else{_62=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_62){dijit.selectInputText(this.textbox);}});}this._updatePlaceHolder();this._refreshState();this.inherited(arguments);},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_65,_66,_67){var _68=dojo.global;var _69=dojo.doc;_65=dojo.byId(_65);if(isNaN(_66)){_66=0;}if(isNaN(_67)){_67=_65.value?_65.value.length:0;}dijit.focus(_65);if(_69["selection"]&&dojo.body()["createTextRange"]){if(_65.createTextRange){var _6a=_65.createTextRange();with(_6a){collapse(true);moveStart("character",-99999);moveStart("character",_66);moveEnd("character",_67-_66);select();}}}else{if(_68["getSelection"]){if(_65.setSelectionRange){_65.setSelectionRange(_66,_67);}}}};}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\n\t<div class=\"dijitTooltipConnector\"></div>\n</div>\n"),postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_6b,_6c,_6d,rtl){if(this.aroundNode&&this.aroundNode===_6c){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_6b;var pos=dijit.placeOnScreenAroundElement(this.domNode,_6c,dijit.getPopupAroundAlignment((_6d&&_6d.length)?_6d:dijit.Tooltip.defaultPosition,!rtl),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_6c;},orient:function(_6e,_6f,_70){_6e.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_6f+"-"+_70];},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_71){if(this._onDeck&&this._onDeck[1]==_71){this._onDeck=null;}else{if(this.aroundNode===_71){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_72,_73,_74,rtl){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_72,_73,_74,rtl);};dijit.hideTooltip=function(_75){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_75);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],constructor:function(){this._nodeConnectionsById={};},_setConnectIdAttr:function(_76){for(var _77 in this._nodeConnectionsById){this.removeTarget(_77);}dojo.forEach(dojo.isArrayLike(_76)?_76:[_76],this.addTarget,this);},_getConnectIdAttr:function(){var ary=[];for(var id in this._nodeConnectionsById){ary.push(id);}return ary;},addTarget:function(id){var _78=dojo.byId(id);if(!_78){return;}if(_78.id in this._nodeConnectionsById){return;}this._nodeConnectionsById[_78.id]=[this.connect(_78,"onmouseenter","_onTargetMouseEnter"),this.connect(_78,"onmouseleave","_onTargetMouseLeave"),this.connect(_78,"onfocus","_onTargetFocus"),this.connect(_78,"onblur","_onTargetBlur")];},removeTarget:function(_79){var id=_79.id||_79;if(id in this._nodeConnectionsById){dojo.forEach(this._nodeConnectionsById[id],this.disconnect,this);delete this._nodeConnectionsById[id];}},postCreate:function(){dojo.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _7a=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_7a);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_7b){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_7b,this.position,!this.isLeftToRight());this._connectNode=_7b;this.onShow(_7b,this.position);},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_7c,_7d){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:dojo.cache("dijit.form","templates/ValidationTextBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" waiRole=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&Chi; \" type=\"text\" tabIndex=\"-1\" readOnly waiRole=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function(_7e){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_7f,_80){return (new RegExp("^(?:"+this.regExpGen(_80)+")"+(this.required?"":"?")+"$")).test(_7f)&&(!this.required||!this._isEmpty(_7f))&&(this._isEmpty(_7f)||this.parse(_7f,_80)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_81){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_82){return /^\s*$/.test(_82);},getErrorMessage:function(_83){return (this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;},getPromptMessage:function(_84){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_85){var _86="";var _87=this.disabled||this.isValid(_85);if(_87){this._maskValidSubsetError=true;}var _88=this._isEmpty(this.textbox.value);var _89=!_87&&!_88&&_85&&this._isValidSubset();this.state=((_87||((!this._hasBeenBlurred||_85)&&_88)||_89)&&this._maskValidSubsetError)?"":"Error";if(this.state=="Error"){this._maskValidSubsetError=_85;}this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",_87?"false":"true");if(_85){if(this.state=="Error"){_86=this.getErrorMessage(true);}else{_86=this.getPromptMessage(true);}this._maskValidSubsetError=true;}this.displayMessage(_86);return _87;},_message:"",displayMessage:function(_8a){if(this._message==_8a){return;}this._message=_8a;dijit.hideTooltip(this.domNode);if(_8a){dijit.showTooltip(_8a,this.domNode,this.tooltipPosition,!this.isLeftToRight());}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},_setConstraintsAttr:function(_8b){if(!_8b.locale&&this.lang){_8b.locale=this.lang;}this.constraints=_8b;this._computePartialRE();},_computePartialRE:function(){var p=this.regExpGen(this.constraints);this.regExp=p;var _8c="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_8c+=re;break;case ")":_8c+="|$)";break;default:_8c+="(?:"+re+"|$)";break;}});}try{"".search(_8c);}catch(e){_8c=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_8c+")$";},postMixInProperties:function(){this.inherited(arguments);this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}if(!this.invalidMessage){this.invalidMessage=this.promptMessage;}if(this.missingMessage=="$_unset_$"){this.missingMessage=this.messages.missingMessage;}if(!this.missingMessage){this.missingMessage=this.invalidMessage;}this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_8d){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_8e){this.required=_8e;dijit.setWaiState(this.focusNode,"required",_8e);this._refreshState();},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_8f){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.place("<input type='hidden'"+(this.name?" name='"+this.name+"'":"")+">",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_90,_91){return ("min" in _91?(this.compare(_90,_91.min)>=0):true)&&("max" in _91?(this.compare(_90,_91.max)<=0):true);},isInRange:function(_92){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");var _93=false;var _94=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_93=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_94=(typeof max=="number")&&max>0;}return _93||_94;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_95){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_95));},getErrorMessage:function(_96){var v=this.get("value");if(v!==null&&v!==""&&v!==undefined&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_96)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},_setConstraintsAttr:function(_97){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}else{dijit.removeWaiState(this.focusNode,"valuemin");}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}else{dijit.removeWaiState(this.focusNode,"valuemax");}}},_setValueAttr:function(_98,_99){dijit.setWaiState(this.focusNode,"valuenow",_98);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:dojo.cache("dijit.form","templates/ComboBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachPoint=\"comboNode\" waiRole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdojoAttachPoint=\"downArrowNode\" waiRole=\"presentation\"\n\t\tdojoAttachEvent=\"onmousedown:_onArrowMouseDown\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readOnly waiRole=\"presentation\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&Chi; \" type=\"text\" tabIndex=\"-1\" readOnly waiRole=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachEvent=\"onkeypress:_onKeyPress,compositionend\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" waiRole=\"textbox\" waiState=\"haspopup-true,autocomplete-list\"\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"downArrowNode":"dijitDownArrowButton"},_getCaretPos:function(_9a){var pos=0;if(typeof (_9a.selectionStart)=="number"){pos=_9a.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_9a.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_9b,_9c){_9c=parseInt(_9c);dijit.selectInputText(_9b,_9c,_9c);},_setDisabledAttr:function(_9d){this.inherited(arguments);dijit.setWaiState(this.comboNode,"disabled",_9d);},_abortQuery:function(){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}if(this._fetchHandle){if(this._fetchHandle.abort){this._fetchHandle.abort();}this._fetchHandle=null;}},_onInput:function(evt){if(!this.searchTimer&&(evt.type=="paste"||evt.type=="input")&&this._lastInput!=this.textbox.value){this.searchTimer=setTimeout(dojo.hitch(this,function(){this._onKeyPress({charOrCode:229});}),100);}this.inherited(arguments);},_onKeyPress:function(evt){var key=evt.charOrCode;if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==dojo.keys.SHIFT){return;}var _9e=false;var _9f="_startSearchFromInput";var pw=this._popupWidget;var dk=dojo.keys;var _a0=null;this._prev_key_backspace=false;this._abortQuery();if(this._isShowingNow){pw.handleKey(key);_a0=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:case dk.PAGE_UP:case dk.UP_ARROW:if(!this._isShowingNow){_9e=true;_9f="_startSearchAll";}else{this._announceOption(_a0);}dojo.stopEvent(evt);break;case dk.ENTER:if(_a0){if(_a0==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_a0==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}evt.preventDefault();case dk.TAB:var _a1=this.get("displayedValue");if(pw&&(_a1==pw._messages["previousMessage"]||_a1==pw._messages["nextMessage"])){break;}if(_a0){this._selectOption();}if(this._isShowingNow){this._lastQuery=null;this._hideResultList();}break;case " ":if(_a0){dojo.stopEvent(evt);this._selectOption();this._hideResultList();}else{_9e=true;}break;case dk.ESCAPE:if(this._isShowingNow){dojo.stopEvent(evt);this._hideResultList();}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_backspace=true;_9e=true;break;default:_9e=typeof key=="string"||key==229;}if(_9e){this.item=undefined;this.searchTimer=setTimeout(dojo.hitch(this,_9f),1);}},_autoCompleteText:function(_a2){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _a3=this.ignoreCase?"toLowerCase":"substr";if(_a2[_a3](0).indexOf(this.focusNode.value[_a3](0))==0){var _a4=this._getCaretPos(fn);if((_a4+1)>fn.value.length){fn.value=_a2;dijit.selectInputText(fn,_a4);}}else{fn.value=_a2;dijit.selectInputText(fn);}},_openResultList:function(_a5,_a6){this._fetchHandle=null;if(this.disabled||this.readOnly||(_a6.query[this.searchAttr]!=this._lastQuery)){return;}this._popupWidget.clearResultList();if(!_a5.length&&!this._maxOptions){this._hideResultList();return;}_a6._maxOptions=this._maxOptions;var _a7=this._popupWidget.createOptions(_a5,_a6,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_a6.direction){if(1==_a6.direction){this._popupWidget.highlightFirstOption();}else{if(-1==_a6.direction){this._popupWidget.highlightLastOption();}}this._announceOption(this._popupWidget.getHighlightedOption());}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_a6.query[this.searchAttr])){this._announceOption(_a7[1]);}}},_showResultList:function(){this._hideResultList();this.displayMessage("");dojo.style(this._popupWidget.domNode,{width:"",height:""});var _a8=this.open();var _a9=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((_a8.h==_a9.h)&&(_a8.w==_a9.w))?"hidden":"auto";var _aa=_a8.w;if(_a8.h<this._popupWidget.domNode.scrollHeight){_aa+=16;}dojo.marginBox(this._popupWidget.domNode,{h:_a8.h,w:Math.max(_aa,this.domNode.offsetWidth)});if(_aa<this.domNode.offsetWidth){this._popupWidget.domNode.parentNode.style.left=dojo.position(this.domNode,true).x+"px";}dijit.setWaiState(this.comboNode,"expanded","true");},_hideResultList:function(){this._abortQuery();if(this._isShowingNow){dijit.popup.close(this._popupWidget);this._isShowingNow=false;dijit.setWaiState(this.comboNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _ab=this.get("displayedValue");var pw=this._popupWidget;if(pw&&(_ab==pw._messages["previousMessage"]||_ab==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_ab);}else{if(this.value!=this._lastValueReported){dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);}this._refreshState();}}},_onBlur:function(){this._hideResultList();this.inherited(arguments);},_setItemAttr:function(_ac,_ad,_ae){if(!_ae){_ae=this.labelFunc(_ac,this.store);}this.value=this._getValueField()!=this.searchAttr?this.store.getIdentity(_ac):_ae;this.item=_ac;dijit.form.ComboBox.superclass._setValueAttr.call(this,this.value,_ad,_ae);},_announceOption:function(_af){if(!_af){return;}var _b0;if(_af==this._popupWidget.nextButton||_af==this._popupWidget.previousButton){_b0=_af.innerHTML;this.item=undefined;this.value="";}else{_b0=this.labelFunc(_af.item,this.store);this.set("item",_af.item,false,_b0);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(_af,"id"));this._autoCompleteText(_b0);},_selectOption:function(evt){if(evt){this._announceOption(evt.target);}this._hideResultList();this._setCaretPos(this.focusNode,this.focusNode.value.length);dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);},_onArrowMouseDown:function(evt){if(this.disabled||this.readOnly){return;}dojo.stopEvent(evt);this.focus();if(this._isShowingNow){this._hideResultList();}else{this._startSearchAll();}},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(_b1){return dojo.string.substitute(this.queryExpr,[_b1]);},_startSearch:function(key){if(!this._popupWidget){var _b2=this.id+"_popup";this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption),id:_b2,dir:this.dir});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_b2);}var _b3=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_b3[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_b4,_b5){this.searchTimer=null;var _b6={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_b4,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_b7){_b5._fetchHandle=null;console.error("dijit.form.ComboBox: "+_b7);dojo.hitch(_b5,"_hideResultList")();},start:0,count:this.pageSize};dojo.mixin(_b6,_b5.fetchProperties);this._fetchHandle=_b5.store.fetch(_b6);var _b8=function(_b9,_ba){_b9.start+=_b9.count*_ba;_b9.direction=_ba;this._fetchHandle=this.store.fetch(_b9);};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,_b8,this._fetchHandle);},_b3,this),this.searchDelay);},_setMaxOptions:function(_bb,_bc){this._maxOptions=_bb;},_getValueField:function(){return this.searchAttr;},compositionend:function(evt){this._onKeyPress({charOrCode:229});},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var _bd=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_bd);if(!("value" in this.params)){var _be=this.store.fetchSelectedItem();if(_be){var _bf=this._getValueField();this.value=_bf!=this.searchAttr?this.store.getValue(_be,_bf):this.labelFunc(_be,this.store);}}}this.inherited(arguments);},postCreate:function(){if(!this.hasDownArrow){this.downArrowNode.style.display="none";}var _c0=dojo.query("label[for=\""+this.id+"\"]");if(_c0.length){_c0[0].id=(this.id+"_label");var cn=this.comboNode;dijit.setWaiState(cn,"labelledby",_c0[0].id);}this.inherited(arguments);},uninitialize:function(){if(this._popupWidget&&!this._popupWidget._destroyed){this._hideResultList();this._popupWidget.destroy();}this.inherited(arguments);},_getMenuLabelFromItem:function(_c1){var _c2=this.labelAttr?this.store.getValue(_c1,this.labelAttr):this.labelFunc(_c1,this.store);var _c3=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_c2=this.doHighlight(_c2,this._escapeHtml(this._lastInput));_c3="html";}return {html:_c3=="html",label:_c2};},doHighlight:function(_c4,_c5){var _c6="i"+(this.highlightMatch=="all"?"g":"");var _c7=this._escapeHtml(_c4);_c5=dojo.regexp.escapeString(_c5);var ret=_c7.replace(new RegExp("(^|\\s)("+_c5+")",_c6),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");return ret;},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},open:function(){this._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this});},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(_c8,_c9){return _c9.getValue(_c8,this.searchAttr).toString();}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated,dijit._CssStateMixin],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' tabIndex='-1' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' waiRole='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' waiRole='option'></li>"+"</ul>",_messages:null,baseClass:"dijitComboBoxMenu",postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited(arguments);},_setValueAttr:function(_ca){this.value=_ca;this.onChange(_ca);},onChange:function(_cb){},onPage:function(_cc){},postCreate:function(){this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];this.inherited(arguments);},onClose:function(){this._blurOptionNode();},_createOption:function(_cd,_ce){var _cf=_ce(_cd);var _d0=dojo.doc.createElement("li");dijit.setWaiRole(_d0,"option");if(_cf.html){_d0.innerHTML=_cf.label;}else{_d0.appendChild(dojo.doc.createTextNode(_cf.label));}if(_d0.innerHTML==""){_d0.innerHTML="&nbsp;";}_d0.item=_cd;return _d0;},createOptions:function(_d1,_d2,_d3){this.previousButton.style.display=(_d2.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_d1,function(_d4,i){var _d5=this._createOption(_d4,_d3);_d5.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");dojo.attr(_d5,"id",this.id+i);this.domNode.insertBefore(_d5,this.nextButton);},this);var _d6=false;if(_d2._maxOptions&&_d2._maxOptions!=-1){if((_d2.start+_d2.count)<_d2._maxOptions){_d6=true;}else{if((_d2.start+_d2.count)>_d2._maxOptions&&_d2.count==_d1.length){_d6=true;}}}else{if(_d2.count==_d1.length){_d6=true;}}this.nextButton.style.display=_d6?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");return this.domNode.childNodes;},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode||!this._highlighted_option){return;}else{if(evt.target==this.previousButton){this.onPage(-1);}else{if(evt.target==this.nextButton){this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(_d7){if(this._highlighted_option!=_d7){this._blurOptionNode();this._highlighted_option=_d7;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function(){if(!this.getHighlightedOption()){var fc=this.domNode.firstChild;this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}else{this.highlightFirstOption();}}dojo.window.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){var _d8=this.domNode.firstChild;var _d9=_d8.nextSibling;this._focusOptionNode(_d9.style.display=="none"?_d8:_d9);dojo.window.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dojo.window.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){if(!this.getHighlightedOption()){var lc=this.domNode.lastChild;this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}else{this.highlightLastOption();}}dojo.window.scrollIntoView(this._highlighted_option);},_page:function(up){var _da=0;var _db=this.domNode.scrollTop;var _dc=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_da<_dc){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _dd=this.domNode.scrollTop;_da+=(_dd-_db)*(up?-1:1);_db=_dd;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(key){switch(key){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_de,_df,_e0){this.item=null;if(!_de){_de="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_de,_df,_e0);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(_e1){this.root=_e1;if(_e1.tagName!="SELECT"&&_e1.firstChild){_e1=dojo.query("select",_e1);if(_e1.length>0){_e1=_e1[0];}else{this.root.innerHTML="<SELECT>"+this.root.innerHTML+"</SELECT>";_e1=this.root.firstChild;}this.root=_e1;}dojo.query("> option",_e1).forEach(function(_e2){_e2.innerHTML=dojo.trim(_e2.innerHTML);});},getValue:function(_e3,_e4,_e5){return (_e4=="value")?_e3.value:(_e3.innerText||_e3.textContent||"");},isItemLoaded:function(_e6){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(_e7,_e8,_e9){if(!_e7.query){_e7.query={};}if(!_e7.query.name){_e7.query.name="";}if(!_e7.queryOptions){_e7.queryOptions={};}var _ea=dojo.data.util.filter.patternToRegExp(_e7.query.name,_e7.queryOptions.ignoreCase),_eb=dojo.query("> option",this.root).filter(function(_ec){return (_ec.innerText||_ec.textContent||"").match(_ea);});if(_e7.sort){_eb.sort(dojo.data.util.sorter.createSortFunction(_e7.sort,this));}_e8(_eb,_e7);},close:function(_ed){return;},getLabel:function(_ee){return _ee.innerHTML;},getIdentity:function(_ef){return dojo.attr(_ef,"value");},fetchItemByIdentity:function(_f0){var _f1=dojo.query("> option[value='"+_f0.identity+"']",this.root)[0];_f0.onItem(_f1);},fetchSelectedItem:function(){var _f2=this.root,si=_f2.selectedIndex;return typeof si=="number"?dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",_f2)[0]:null;}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{_isvalid:true,required:true,_lastDisplayedValue:"",isValid:function(){return this._isvalid||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_f3,_f4,_f5){if((_f4&&_f4.query[this.searchAttr]!=this._lastQuery)||(!_f4&&_f3.length&&this.store.getIdentity(_f3[0])!=this._lastQuery)){return;}if(!_f3.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",_f5||(_f5===undefined&&!this._focused));this._isvalid=false;this.validate(this._focused);this.item=null;}else{this.set("item",_f3[0],_f5);}},_openResultList:function(_f6,_f7){if(_f7.query[this.searchAttr]!=this._lastQuery){return;}if(this.item===undefined){this._isvalid=_f6.length!=0||this._maxOptions!=0;this.validate(true);}dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_f8,_f9){if(!this._onChangeActive){_f9=null;}this._lastQuery=_f8;if(_f8===null||_f8===""){this._setDisplayedValueAttr("",_f9);return;}var _fa=this;this.store.fetchItemByIdentity({identity:_f8,onItem:function(_fb){_fa._callbackSetLabel(_fb?[_fb]:[],undefined,_f9);}});},_setItemAttr:function(_fc,_fd,_fe){this._isvalid=true;this.inherited(arguments);this.valueNode.value=this.value;this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(_ff){return _ff.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_100,_101){if(!this._created){_101=false;}if(this.store){this._hideResultList();var _102=dojo.clone(this.query);this._lastQuery=_102[this.searchAttr]=this._getDisplayQueryString(_100);this.textbox.value=_100;this._lastDisplayedValue=_100;var _103=this;var _104={query:_102,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(_105,_106){_103._fetchHandle=null;dojo.hitch(_103,"_callbackSetLabel")(_105,_106,_101);},onError:function(_107){_103._fetchHandle=null;console.error("dijit.form.FilteringSelect: "+_107);dojo.hitch(_103,"_callbackSetLabel")([],undefined,false);}};dojo.mixin(_104,this.fetchProperties);this._fetchHandle=this.store.fetch(_104);}},postMixInProperties:function(){this.inherited(arguments);this._isvalid=!this.required;},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});}if(!dojo._hasResource["dojox.form.BusyButton"]){dojo._hasResource["dojox.form.BusyButton"]=true;dojo.provide("dojox.form.BusyButton");dojo.declare("dojox.form._BusyButtonMixin",null,{isBusy:false,busyLabel:"",timeout:null,useIcon:true,postMixInProperties:function(){this.inherited(arguments);if(!this.busyLabel){this.busyLabel=dojo.i18n.getLocalization("dijit","loading",this.lang).loadingState;}},postCreate:function(){this.inherited(arguments);this._label=this.containerNode.innerHTML;this._initTimeout=this.timeout;if(this.isBusy){this.makeBusy();}},makeBusy:function(){this.isBusy=true;this.set("disabled",true);this.setLabel(this.busyLabel,this.timeout);},cancel:function(){this.set("disabled",false);this.isBusy=false;this.setLabel(this._label);if(this._timeout){clearTimeout(this._timeout);}this.timeout=this._initTimeout;},resetTimeout:function(_108){if(this._timeout){clearTimeout(this._timeout);}if(_108){this._timeout=setTimeout(dojo.hitch(this,function(){this.cancel();}),_108);}else{if(_108==undefined||_108===0){this.cancel();}}},setLabel:function(_109,_10a){this.label=_109;while(this.containerNode.firstChild){this.containerNode.removeChild(this.containerNode.firstChild);}this.containerNode.innerHTML=this.label;if(this.showLabel==false&&!(dojo.attr(this.domNode,"title"))){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}if(_10a){this.resetTimeout(_10a);}else{this.timeout=null;}if(this.useIcon&&this.isBusy){var node=new Image();node.src=this._blankGif;dojo.attr(node,"id",this.id+"_icon");dojo.addClass(node,"dojoxBusyButtonIcon");this.containerNode.appendChild(node);}},_clicked:function(e){if(!this.isBusy){this.makeBusy();}}});dojo.declare("dojox.form.BusyButton",[dijit.form.Button,dojox.form._BusyButtonMixin],{});dojo.declare("dojox.form.BusyComboButton",[dijit.form.ComboButton,dojox.form._BusyButtonMixin],{});dojo.declare("dojox.form.BusyDropDownButton",[dijit.form.DropDownButton,dojox.form._BusyButtonMixin],{});}if(!dojo._hasResource["depot.AddressController"]){dojo._hasResource["depot.AddressController"]=true;dojo.provide("depot.AddressController");dojo.declare("depot.AddressController",[],{constructor:function(){console.debug("Address Controller");dojo.subscribe(accountController.ACCOUNT_LOAD,this,this.setEvents);dojo.subscribe(accountController.ACCOUNT_LOAD,this,this.setAddress);dojo.connect(dijit.byId("account"),"onLoad",this,this.setAddress);dojo.connect(dijit.byId("account"),"onLoad",this,this.setEvents);dojo.query(".formValue","addressForm").forEach(dojo.hitch(this,function(item){dojo.connect(item,"onchange",this,this.isValid);dojo.connect(item,"onkeyup",this,this.isValid);}));},setEvents:function(){dojo.connect(dijit.byId("updateAddressButton"),"onClick",this,this.updateAddress);},setAddress:function(){console.debug("setting address");if(accountController.account&&accountController.account.address){console.dir(accountController.account.address);dijit.byId("addressForm").set("value",accountController.account.address);console.debug("address Set");}},isValid:function(){if(dijit.byId("addressForm").isValid()){dijit.byId("updateAddressButton").set("disabled",false);return true;}else{dijit.byId("updateAddressButton").set("disabled",true);return false;}},updateAddress:function(){console.debug("Updating Address");dojo.query("input").forEach(dojo.hitch(this,function(item){item.disabled=true;}));dijit.byId("updateAddressButton").makeBusy();var _10b={url:"jaxrs/Customer/Address",headers:{"Content-Type":"application/json"},putData:dojo.toJson(dijit.byId("addressForm").get("value")),load:dojo.hitch(this,this.updateAddressSuccess),error:dojo.hitch(this,this.updateAddressError)};dojo.xhrPut(_10b);},updateAddressSuccess:function(data){console.info("Update Success");accountController.account.address=dijit.byId("addressForm").get("value");dojo.query("input").forEach(dojo.hitch(this,function(item){item.disabled=true;}));dijit.byId("updateAddressButton").cancel();dojo.place("<div class='successMessage'>Address Update Succesful</div>","result","only");},updateAddressError:function(e){console.error("Error Loading Account",e);dojo.query("input").forEach(dojo.hitch(this,function(item){item.disabled=false;}));dijit.byId("updateAddressButton").cancel();dojo.place("<div class='errorMessage'>Address Update Failed</div>","result","only");}});}if(!dojo._hasResource["dijit.form.SimpleTextarea"]){dojo._hasResource["dijit.form.SimpleTextarea"]=true;dojo.provide("dijit.form.SimpleTextarea");dojo.declare("dijit.form.SimpleTextarea",dijit.form.TextBox,{baseClass:"dijitTextBox dijitTextArea",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{rows:"textbox",cols:"textbox"}),rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} dojoAttachPoint='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},filter:function(_10c){if(_10c){_10c=_10c.replace(/\r/g,"");}return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(dojo.isIE&&this.cols){dojo.addClass(this.textbox,"dijitTextAreaCols");}},_previousValue:"",_onInput:function(e){if(this.maxLength){var _10d=parseInt(this.maxLength);var _10e=this.textbox.value.replace(/\r/g,"");var _10f=_10e.length-_10d;if(_10f>0){if(e){dojo.stopEvent(e);}var _110=this.textbox;if(_110.selectionStart){var pos=_110.selectionStart;var cr=0;if(dojo.isOpera){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_10e.substring(0,pos-_10f-cr)+_10e.substring(pos-cr);_110.setSelectionRange(pos-_10f,pos-_10f);}else{if(dojo.doc.selection){_110.focus();var _111=dojo.doc.selection.createRange();_111.moveStart("character",-_10f);_111.text="";_111.select();}}}this._previousValue=this.textbox.value;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.Textarea"]){dojo._hasResource["dijit.form.Textarea"]=true;dojo.provide("dijit.form.Textarea");dojo.declare("dijit.form.Textarea",dijit.form.SimpleTextarea,{cols:"",_previousNewlines:0,_strictMode:(dojo.doc.compatMode!="BackCompat"),_getHeight:function(_112){var newH=_112.scrollHeight;if(dojo.isIE){newH+=_112.offsetHeight-_112.clientHeight-((dojo.isIE<8&&this._strictMode)?dojo._getPadBorderExtents(_112).h:0);}else{if(dojo.isMoz){newH+=_112.offsetHeight-_112.clientHeight;}else{if(dojo.isWebKit&&!(dojo.isSafari<4)){newH+=dojo._getBorderExtents(_112).h;}else{newH+=dojo._getPadBorderExtents(_112).h;}}}return newH;},_estimateHeight:function(_113){_113.style.maxHeight="";_113.style.height="auto";_113.rows=(_113.value.match(/\n/g)||[]).length+1;},_needsHelpShrinking:dojo.isMoz||dojo.isWebKit,_onInput:function(){this.inherited(arguments);if(this._busyResizing){return;}this._busyResizing=true;var _114=this.textbox;if(_114.scrollHeight&&_114.offsetHeight&&_114.clientHeight){var newH=this._getHeight(_114)+"px";if(_114.style.height!=newH){_114.style.maxHeight=_114.style.height=newH;}if(this._needsHelpShrinking){if(this._setTimeoutHandle){clearTimeout(this._setTimeoutHandle);}this._setTimeoutHandle=setTimeout(dojo.hitch(this,"_shrink"),0);}}else{this._estimateHeight(_114);}this._busyResizing=false;},_busyResizing:false,_shrink:function(){this._setTimeoutHandle=null;if(this._needsHelpShrinking&&!this._busyResizing){this._busyResizing=true;var _115=this.textbox;var _116=false;if(_115.value==""){_115.value=" ";_116=true;}var _117=_115.scrollHeight;if(!_117){this._estimateHeight(_115);}else{var _118=_115.style.paddingBottom;var _119=dojo._getPadExtents(_115);_119=_119.h-_119.t;_115.style.paddingBottom=_119+1+"px";var newH=this._getHeight(_115)-1+"px";if(_115.style.maxHeight!=newH){_115.style.paddingBottom=_119+_117+"px";_115.scrollTop=0;_115.style.maxHeight=this._getHeight(_115)-_117+"px";}_115.style.paddingBottom=_118;}if(_116){_115.value="";}this._busyResizing=false;}},resize:function(){this._onInput();},_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);dojo.style(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.connect(this.textbox,"onscroll",this._onInput);this.connect(this.textbox,"onresize",this._onInput);this.connect(this.textbox,"onfocus",this._onInput);this._setTimeoutHandle=setTimeout(dojo.hitch(this,"resize"),0);},uninitialize:function(){if(this._setTimeoutHandle){clearTimeout(this._setTimeoutHandle);}this.inherited(arguments);}});}if(!dojo._hasResource["dojox.string.Builder"]){dojo._hasResource["dojox.string.Builder"]=true;dojo.provide("dojox.string.Builder");dojox.string.Builder=function(str){var b="";this.length=0;this.append=function(s){if(arguments.length>1){var tmp="",l=arguments.length;switch(l){case 9:tmp=""+arguments[8]+tmp;case 8:tmp=""+arguments[7]+tmp;case 7:tmp=""+arguments[6]+tmp;case 6:tmp=""+arguments[5]+tmp;case 5:tmp=""+arguments[4]+tmp;case 4:tmp=""+arguments[3]+tmp;case 3:tmp=""+arguments[2]+tmp;case 2:b+=""+arguments[0]+arguments[1]+tmp;break;default:var i=0;while(i<arguments.length){tmp+=arguments[i++];}b+=tmp;}}else{b+=s;}this.length=b.length;return this;};this.concat=function(s){return this.append.apply(this,arguments);};this.appendArray=function(_11a){return this.append.apply(this,_11a);};this.clear=function(){b="";this.length=0;return this;};this.replace=function(_11b,_11c){b=b.replace(_11b,_11c);this.length=b.length;return this;};this.remove=function(_11d,len){if(len===undefined){len=b.length;}if(len==0){return this;}b=b.substr(0,_11d)+b.substr(_11d+len);this.length=b.length;return this;};this.insert=function(_11e,str){if(_11e==0){b=str+b;}else{b=b.slice(0,_11e)+str+b.slice(_11e);}this.length=b.length;return this;};this.toString=function(){return b;};if(str){this.append(str);}};}if(!dojo._hasResource["dojox.string.tokenize"]){dojo._hasResource["dojox.string.tokenize"]=true;dojo.provide("dojox.string.tokenize");dojox.string.tokenize=function(str,re,_11f,_120){var _121=[];var _122,_123,_124=0;while(_122=re.exec(str)){_123=str.slice(_124,re.lastIndex-_122[0].length);if(_123.length){_121.push(_123);}if(_11f){if(dojo.isOpera){var copy=_122.slice(0);while(copy.length<_122.length){copy.push(null);}_122=copy;}var _125=_11f.apply(_120,_122.slice(1).concat(_121.length));if(typeof _125!="undefined"){_121.push(_125);}}_124=re.lastIndex;}_123=str.slice(_124);if(_123.length){_121.push(_123);}return _121;};}if(!dojo._hasResource["dojox.dtl._base"]){dojo._hasResource["dojox.dtl._base"]=true;dojo.provide("dojox.dtl._base");dojo.experimental("dojox.dtl");(function(){var dd=dojox.dtl;dd.TOKEN_BLOCK=-1;dd.TOKEN_VAR=-2;dd.TOKEN_COMMENT=-3;dd.TOKEN_TEXT=3;dd._Context=dojo.extend(function(dict){if(dict){dojo._mixin(this,dict);if(dict.get){this._getter=dict.get;delete this.get;}}},{push:function(){var last=this;var _126=dojo.delegate(this);_126.pop=function(){return last;};return _126;},pop:function(){throw new Error("pop() called on empty Context");},get:function(key,_127){var n=this._normalize;if(this._getter){var got=this._getter(key);if(typeof got!="undefined"){return n(got);}}if(typeof this[key]!="undefined"){return n(this[key]);}return _127;},_normalize:function(_128){if(_128 instanceof Date){_128.year=_128.getFullYear();_128.month=_128.getMonth()+1;_128.day=_128.getDate();_128.date=_128.year+"-"+("0"+_128.month).slice(-2)+"-"+("0"+_128.day).slice(-2);_128.hour=_128.getHours();_128.minute=_128.getMinutes();_128.second=_128.getSeconds();_128.microsecond=_128.getMilliseconds();}return _128;},update:function(dict){var _129=this.push();if(dict){dojo._mixin(this,dict);}return _129;}});var _12a=/("(?:[^"\\]*(?:\\.[^"\\]*)*)"|'(?:[^'\\]*(?:\\.[^'\\]*)*)'|[^\s]+)/g;var _12b=/\s+/g;var _12c=function(_12d,_12e){_12d=_12d||_12b;if(!(_12d instanceof RegExp)){_12d=new RegExp(_12d,"g");}if(!_12d.global){throw new Error("You must use a globally flagged RegExp with split "+_12d);}_12d.exec("");var part,_12f=[],_130=0,i=0;while(part=_12d.exec(this)){_12f.push(this.slice(_130,_12d.lastIndex-part[0].length));_130=_12d.lastIndex;if(_12e&&(++i>_12e-1)){break;}}_12f.push(this.slice(_130));return _12f;};dd.Token=function(_131,_132){this.token_type=_131;this.contents=new String(dojo.trim(_132));this.contents.split=_12c;this.split=function(){return String.prototype.split.apply(this.contents,arguments);};};dd.Token.prototype.split_contents=function(_133){var bit,bits=[],i=0;_133=_133||999;while(i++<_133&&(bit=_12a.exec(this.contents))){bit=bit[0];if(bit.charAt(0)=="\""&&bit.slice(-1)=="\""){bits.push("\""+bit.slice(1,-1).replace("\\\"","\"").replace("\\\\","\\")+"\"");}else{if(bit.charAt(0)=="'"&&bit.slice(-1)=="'"){bits.push("'"+bit.slice(1,-1).replace("\\'","'").replace("\\\\","\\")+"'");}else{bits.push(bit);}}}return bits;};var ddt=dd.text={_get:function(_134,name,_135){var _136=dd.register.get(_134,name.toLowerCase(),_135);if(!_136){if(!_135){throw new Error("No tag found for "+name);}return null;}var fn=_136[1];var _137=_136[2];var _138;if(fn.indexOf(":")!=-1){_138=fn.split(":");fn=_138.pop();}dojo["require"](_137);var _139=dojo.getObject(_137);return _139[fn||name]||_139[name+"_"]||_139[fn+"_"];},getTag:function(name,_13a){return ddt._get("tag",name,_13a);},getFilter:function(name,_13b){return ddt._get("filter",name,_13b);},getTemplate:function(file){return new dd.Template(ddt.getTemplateString(file));},getTemplateString:function(file){return dojo._getText(file.toString())||"";},_resolveLazy:function(_13c,sync,json){if(sync){if(json){return dojo.fromJson(dojo._getText(_13c))||{};}else{return dd.text.getTemplateString(_13c);}}else{return dojo.xhrGet({handleAs:(json)?"json":"text",url:_13c});}},_resolveTemplateArg:function(arg,sync){if(ddt._isTemplate(arg)){if(!sync){var d=new dojo.Deferred();d.callback(arg);return d;}return arg;}return ddt._resolveLazy(arg,sync);},_isTemplate:function(arg){return (typeof arg=="undefined")||(typeof arg=="string"&&(arg.match(/^\s*[<{]/)||arg.indexOf(" ")!=-1));},_resolveContextArg:function(arg,sync){if(arg.constructor==Object){if(!sync){var d=new dojo.Deferred;d.callback(arg);return d;}return arg;}return ddt._resolveLazy(arg,sync,true);},_re:/(?:\{\{\s*(.+?)\s*\}\}|\{%\s*(load\s*)?(.+?)\s*%\})/g,tokenize:function(str){return dojox.string.tokenize(str,ddt._re,ddt._parseDelims);},_parseDelims:function(varr,load,tag){if(varr){return [dd.TOKEN_VAR,varr];}else{if(load){var _13d=dojo.trim(tag).split(/\s+/g);for(var i=0,part;part=_13d[i];i++){dojo["require"](part);}}else{return [dd.TOKEN_BLOCK,tag];}}}};dd.Template=dojo.extend(function(_13e,_13f){var str=_13f?_13e:ddt._resolveTemplateArg(_13e,true)||"";var _140=ddt.tokenize(str);var _141=new dd._Parser(_140);this.nodelist=_141.parse();},{update:function(node,_142){return ddt._resolveContextArg(_142).addCallback(this,function(_143){var _144=this.render(new dd._Context(_143));if(node.forEach){node.forEach(function(item){item.innerHTML=_144;});}else{dojo.byId(node).innerHTML=_144;}return this;});},render:function(_145,_146){_146=_146||this.getBuffer();_145=_145||new dd._Context({});return this.nodelist.render(_145,_146)+"";},getBuffer:function(){return new dojox.string.Builder();}});var qfRe=/\{\{\s*(.+?)\s*\}\}/g;dd.quickFilter=function(str){if(!str){return new dd._NodeList();}if(str.indexOf("{%")==-1){return new dd._QuickNodeList(dojox.string.tokenize(str,qfRe,function(_147){return new dd._Filter(_147);}));}};dd._QuickNodeList=dojo.extend(function(_148){this.contents=_148;},{render:function(_149,_14a){for(var i=0,l=this.contents.length;i<l;i++){if(this.contents[i].resolve){_14a=_14a.concat(this.contents[i].resolve(_149));}else{_14a=_14a.concat(this.contents[i]);}}return _14a;},dummyRender:function(_14b){return this.render(_14b,dd.Template.prototype.getBuffer()).toString();},clone:function(_14c){return this;}});dd._Filter=dojo.extend(function(_14d){if(!_14d){throw new Error("Filter must be called with variable name");}this.contents=_14d;var _14e=this._cache[_14d];if(_14e){this.key=_14e[0];this.filters=_14e[1];}else{this.filters=[];dojox.string.tokenize(_14d,this._re,this._tokenize,this);this._cache[_14d]=[this.key,this.filters];}},{_cache:{},_re:/(?:^_\("([^\\"]*(?:\\.[^\\"])*)"\)|^"([^\\"]*(?:\\.[^\\"]*)*)"|^([a-zA-Z0-9_.]+)|\|(\w+)(?::(?:_\("([^\\"]*(?:\\.[^\\"])*)"\)|"([^\\"]*(?:\\.[^\\"]*)*)"|([a-zA-Z0-9_.]+)|'([^\\']*(?:\\.[^\\']*)*)'))?|^'([^\\']*(?:\\.[^\\']*)*)')/g,_values:{0:"\"",1:"\"",2:"",8:"\""},_args:{4:"\"",5:"\"",6:"",7:"'"},_tokenize:function(){var pos,arg;for(var i=0,has=[];i<arguments.length;i++){has[i]=(typeof arguments[i]!="undefined"&&typeof arguments[i]=="string"&&arguments[i]);}if(!this.key){for(pos in this._values){if(has[pos]){this.key=this._values[pos]+arguments[pos]+this._values[pos];break;}}}else{for(pos in this._args){if(has[pos]){var _14f=arguments[pos];if(this._args[pos]=="'"){_14f=_14f.replace(/\\'/g,"'");}else{if(this._args[pos]=="\""){_14f=_14f.replace(/\\"/g,"\"");}}arg=[!this._args[pos],_14f];break;}}var fn=ddt.getFilter(arguments[3]);if(!dojo.isFunction(fn)){throw new Error(arguments[3]+" is not registered as a filter");}this.filters.push([fn,arg]);}},getExpression:function(){return this.contents;},resolve:function(_150){if(typeof this.key=="undefined"){return "";}var str=this.resolvePath(this.key,_150);for(var i=0,_151;_151=this.filters[i];i++){if(_151[1]){if(_151[1][0]){str=_151[0](str,this.resolvePath(_151[1][1],_150));}else{str=_151[0](str,_151[1][1]);}}else{str=_151[0](str);}}return str;},resolvePath:function(path,_152){var _153,_154;var _155=path.charAt(0);var last=path.slice(-1);if(!isNaN(parseInt(_155))){_153=(path.indexOf(".")==-1)?parseInt(path):parseFloat(path);}else{if(_155=="\""&&_155==last){_153=path.slice(1,-1);}else{if(path=="true"){return true;}if(path=="false"){return false;}if(path=="null"||path=="None"){return null;}_154=path.split(".");_153=_152.get(_154[0]);if(dojo.isFunction(_153)){var self=_152.getThis&&_152.getThis();if(_153.alters_data){_153="";}else{if(self){_153=_153.call(self);}else{_153="";}}}for(var i=1;i<_154.length;i++){var part=_154[i];if(_153){var base=_153;if(dojo.isObject(_153)&&part=="items"&&typeof _153[part]=="undefined"){var _156=[];for(var key in _153){_156.push([key,_153[key]]);}_153=_156;continue;}if(_153.get&&dojo.isFunction(_153.get)&&_153.get.safe){_153=_153.get(part);}else{if(typeof _153[part]=="undefined"){_153=_153[part];break;}else{_153=_153[part];}}if(dojo.isFunction(_153)){if(_153.alters_data){_153="";}else{_153=_153.call(base);}}else{if(_153 instanceof Date){_153=dd._Context.prototype._normalize(_153);}}}else{return "";}}}}return _153;}});dd._TextNode=dd._Node=dojo.extend(function(obj){this.contents=obj;},{set:function(data){this.contents=data;return this;},render:function(_157,_158){return _158.concat(this.contents);},isEmpty:function(){return !dojo.trim(this.contents);},clone:function(){return this;}});dd._NodeList=dojo.extend(function(_159){this.contents=_159||[];this.last="";},{push:function(node){this.contents.push(node);return this;},concat:function(_15a){this.contents=this.contents.concat(_15a);return this;},render:function(_15b,_15c){for(var i=0;i<this.contents.length;i++){_15c=this.contents[i].render(_15b,_15c);if(!_15c){throw new Error("Template must return buffer");}}return _15c;},dummyRender:function(_15d){return this.render(_15d,dd.Template.prototype.getBuffer()).toString();},unrender:function(){return arguments[1];},clone:function(){return this;},rtrim:function(){while(1){i=this.contents.length-1;if(this.contents[i] instanceof dd._TextNode&&this.contents[i].isEmpty()){this.contents.pop();}else{break;}}return this;}});dd._VarNode=dojo.extend(function(str){this.contents=new dd._Filter(str);},{render:function(_15e,_15f){var str=this.contents.resolve(_15e);if(!str.safe){str=dd._base.escape(""+str);}return _15f.concat(str);}});dd._noOpNode=new function(){this.render=this.unrender=function(){return arguments[1];};this.clone=function(){return this;};};dd._Parser=dojo.extend(function(_160){this.contents=_160;},{i:0,parse:function(_161){var _162={},_163;_161=_161||[];for(var i=0;i<_161.length;i++){_162[_161[i]]=true;}var _164=new dd._NodeList();while(this.i<this.contents.length){_163=this.contents[this.i++];if(typeof _163=="string"){_164.push(new dd._TextNode(_163));}else{var type=_163[0];var text=_163[1];if(type==dd.TOKEN_VAR){_164.push(new dd._VarNode(text));}else{if(type==dd.TOKEN_BLOCK){if(_162[text]){--this.i;return _164;}var cmd=text.split(/\s+/g);if(cmd.length){cmd=cmd[0];var fn=ddt.getTag(cmd);if(fn){_164.push(fn(this,new dd.Token(type,text)));}}}}}}if(_161.length){throw new Error("Could not find closing tag(s): "+_161.toString());}this.contents.length=0;return _164;},next_token:function(){var _165=this.contents[this.i++];return new dd.Token(_165[0],_165[1]);},delete_first_token:function(){this.i++;},skip_past:function(_166){while(this.i<this.contents.length){var _167=this.contents[this.i++];if(_167[0]==dd.TOKEN_BLOCK&&_167[1]==_166){return;}}throw new Error("Unclosed tag found when looking for "+_166);},create_variable_node:function(expr){return new dd._VarNode(expr);},create_text_node:function(expr){return new dd._TextNode(expr||"");},getTemplate:function(file){return new dd.Template(file);}});dd.register={_registry:{attributes:[],tags:[],filters:[]},get:function(_168,name){var _169=dd.register._registry[_168+"s"];for(var i=0,_16a;_16a=_169[i];i++){if(typeof _16a[0]=="string"){if(_16a[0]==name){return _16a;}}else{if(name.match(_16a[0])){return _16a;}}}},getAttributeTags:function(){var tags=[];var _16b=dd.register._registry.attributes;for(var i=0,_16c;_16c=_16b[i];i++){if(_16c.length==3){tags.push(_16c);}else{var fn=dojo.getObject(_16c[1]);if(fn&&dojo.isFunction(fn)){_16c.push(fn);tags.push(_16c);}}}return tags;},_any:function(type,base,_16d){for(var path in _16d){for(var i=0,fn;fn=_16d[path][i];i++){var key=fn;if(dojo.isArray(fn)){key=fn[0];fn=fn[1];}if(typeof key=="string"){if(key.substr(0,5)=="attr:"){var attr=fn;if(attr.substr(0,5)=="attr:"){attr=attr.slice(5);}dd.register._registry.attributes.push([attr.toLowerCase(),base+"."+path+"."+attr]);}key=key.toLowerCase();}dd.register._registry[type].push([key,fn,base+"."+path]);}}},tags:function(base,_16e){dd.register._any("tags",base,_16e);},filters:function(base,_16f){dd.register._any("filters",base,_16f);}};var _170=/&/g;var _171=/</g;var _172=/>/g;var _173=/'/g;var _174=/"/g;dd._base.escape=function(_175){return dd.mark_safe(_175.replace(_170,"&amp;").replace(_171,"&lt;").replace(_172,"&gt;").replace(_174,"&quot;").replace(_173,"&#39;"));};dd._base.safe=function(_176){if(typeof _176=="string"){_176=new String(_176);}if(typeof _176=="object"){_176.safe=true;}return _176;};dd.mark_safe=dd._base.safe;dd.register.tags("dojox.dtl.tag",{"date":["now"],"logic":["if","for","ifequal","ifnotequal"],"loader":["extends","block","include","load","ssi"],"misc":["comment","debug","filter","firstof","spaceless","templatetag","widthratio","with"],"loop":["cycle","ifchanged","regroup"]});dd.register.filters("dojox.dtl.filter",{"dates":["date","time","timesince","timeuntil"],"htmlstrings":["linebreaks","linebreaksbr","removetags","striptags"],"integers":["add","get_digit"],"lists":["dictsort","dictsortreversed","first","join","length","length_is","random","slice","unordered_list"],"logic":["default","default_if_none","divisibleby","yesno"],"misc":["filesizeformat","pluralize","phone2numeric","pprint"],"strings":["addslashes","capfirst","center","cut","fix_ampersands","floatformat","iriencode","linenumbers","ljust","lower","make_list","rjust","slugify","stringformat","title","truncatewords","truncatewords_html","upper","urlencode","urlize","urlizetrunc","wordcount","wordwrap"]});dd.register.filters("dojox.dtl",{"_base":["escape","safe"]});})();}if(!dojo._hasResource["dojox.dtl"]){dojo._hasResource["dojox.dtl"]=true;dojo.provide("dojox.dtl");}if(!dojo._hasResource["dojox.dtl.Context"]){dojo._hasResource["dojox.dtl.Context"]=true;dojo.provide("dojox.dtl.Context");dojox.dtl.Context=dojo.extend(function(dict){this._this={};dojox.dtl._Context.call(this,dict);},dojox.dtl._Context.prototype,{getKeys:function(){var keys=[];for(var key in this){if(this.hasOwnProperty(key)&&key!="_this"){keys.push(key);}}return keys;},extend:function(obj){return dojo.delegate(this,obj);},filter:function(_177){var _178=new dojox.dtl.Context();var keys=[];var i,arg;if(_177 instanceof dojox.dtl.Context){keys=_177.getKeys();}else{if(typeof _177=="object"){for(var key in _177){keys.push(key);}}else{for(i=0;arg=arguments[i];i++){if(typeof arg=="string"){keys.push(arg);}}}}for(i=0,key;key=keys[i];i++){_178[key]=this[key];}return _178;},setThis:function(_179){this._this=_179;},getThis:function(){return this._this;},hasKey:function(key){if(this._getter){var got=this._getter(key);if(typeof got!="undefined"){return true;}}if(typeof this[key]!="undefined"){return true;}return false;}});}if(!dojo._hasResource["dijit.form._Spinner"]){dojo._hasResource["dijit.form._Spinner"]=true;dojo.provide("dijit.form._Spinner");dojo.declare("dijit.form._Spinner",dijit.form.RangeBoundTextBox,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:dojo.cache("dijit.form","templates/Spinner.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\" waiRole=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readOnly waiRole=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdojoAttachPoint=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650;\" type=\"text\" tabIndex=\"-1\" readOnly waiRole=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdojoAttachPoint=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660;\" type=\"text\" tabIndex=\"-1\" readOnly waiRole=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&Chi; \" type=\"text\" tabIndex=\"-1\" readOnly waiRole=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' dojoAttachPoint=\"textbox,focusNode\" type=\"${type}\" dojoAttachEvent=\"onkeypress:_onKeyPress\"\n\t\t\twaiRole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n"),baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val,_17a){return val;},_arrowPressed:function(_17b,_17c,_17d){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_17c*_17d),false);dijit.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(node){this._wheelTimer=null;if(this.disabled||this.readOnly){return;}},_typematicCallback:function(_17e,node,evt){var inc=this.smallDelta;if(node==this.textbox){var k=dojo.keys;var key=evt.charOrCode;inc=(key==k.PAGE_UP||key==k.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==k.UP_ARROW||key==k.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_17e==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){dojo.stopEvent(evt);var _17f=evt.detail?(evt.detail*-1):(evt.wheelDelta/120);if(_17f!==0){var node=this[(_17f>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_17f,this.smallDelta);if(!this._wheelTimer){clearTimeout(this._wheelTimer);}this._wheelTimer=setTimeout(dojo.hitch(this,"_arrowReleased",node),50);}},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,!dojo.isMozilla?"onmousewheel":"DOMMouseScroll","_mouseWheeled");this._connects.push(dijit.typematic.addListener(this.upArrowNode,this.textbox,{charOrCode:dojo.keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(dijit.typematic.addListener(this.downArrowNode,this.textbox,{charOrCode:dojo.keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(dijit.typematic.addListener(this.upArrowNode,this.textbox,{charOrCode:dojo.keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(dijit.typematic.addListener(this.downArrowNode,this.textbox,{charOrCode:dojo.keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.number.format=function(_180,_181){_181=dojo.mixin({},_181||{});var _182=dojo.i18n.normalizeLocale(_181.locale),_183=dojo.i18n.getLocalization("dojo.cldr","number",_182);_181.customs=_183;var _184=_181.pattern||_183[(_181.type||"decimal")+"Format"];if(isNaN(_180)||Math.abs(_180)==Infinity){return null;}return dojo.number._applyPattern(_180,_184,_181);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_185,_186,_187){_187=_187||{};var _188=_187.customs.group,_189=_187.customs.decimal,_18a=_186.split(";"),_18b=_18a[0];_186=_18a[(_185<0)?1:0]||("-"+_18b);if(_186.indexOf("%")!=-1){_185*=100;}else{if(_186.indexOf("‰")!=-1){_185*=1000;}else{if(_186.indexOf("¤")!=-1){_188=_187.customs.currencyGroup||_188;_189=_187.customs.currencyDecimal||_189;_186=_186.replace(/\u00a4{1,3}/,function(_18c){var prop=["symbol","currency","displayName"][_18c.length-1];return _187[prop]||_187.currency||"";});}else{if(_186.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _18d=dojo.number._numberPatternRE;var _18e=_18b.match(_18d);if(!_18e){throw new Error("unable to find a number expression in pattern: "+_186);}if(_187.fractional===false){_187.places=0;}return _186.replace(_18d,dojo.number._formatAbsolute(_185,_18e[0],{decimal:_189,group:_188,places:_187.places,round:_187.round}));};dojo.number.round=function(_18f,_190,_191){var _192=10/(_191||10);return (_192*+_18f).toFixed(_190)/_192;};if((0.9).toFixed()==0){(function(){var _193=dojo.number.round;dojo.number.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d||a*Math.pow(10,p+1)<5){d=0;}return _193(v,p,m)+(v>0?d:-d);};})();}dojo.number._formatAbsolute=function(_194,_195,_196){_196=_196||{};if(_196.places===true){_196.places=0;}if(_196.places===Infinity){_196.places=6;}var _197=_195.split("."),_198=typeof _196.places=="string"&&_196.places.indexOf(","),_199=_196.places;if(_198){_199=_196.places.substring(_198+1);}else{if(!(_199>=0)){_199=(_197[1]||[]).length;}}if(!(_196.round<0)){_194=dojo.number.round(_194,_199,_196.round);}var _19a=String(Math.abs(_194)).split("."),_19b=_19a[1]||"";if(_197[1]||_196.places){if(_198){_196.places=_196.places.substring(0,_198);}var pad=_196.places!==undefined?_196.places:(_197[1]&&_197[1].lastIndexOf("0")+1);if(pad>_19b.length){_19a[1]=dojo.string.pad(_19b,pad,"0",true);}if(_199<_19b.length){_19a[1]=_19b.substr(0,_199);}}else{if(_19a[1]){_19a.pop();}}var _19c=_197[0].replace(",","");pad=_19c.indexOf("0");if(pad!=-1){pad=_19c.length-pad;if(pad>_19a[0].length){_19a[0]=dojo.string.pad(_19a[0],pad);}if(_19c.indexOf("#")==-1){_19a[0]=_19a[0].substr(_19a[0].length-pad);}}var _19d=_197[0].lastIndexOf(","),_19e,_19f;if(_19d!=-1){_19e=_197[0].length-_19d-1;var _1a0=_197[0].substr(0,_19d);_19d=_1a0.lastIndexOf(",");if(_19d!=-1){_19f=_1a0.length-_19d-1;}}var _1a1=[];for(var _1a2=_19a[0];_1a2;){var off=_1a2.length-_19e;_1a1.push((off>0)?_1a2.substr(off):_1a2);_1a2=(off>0)?_1a2.slice(0,off):"";if(_19f){_19e=_19f;delete _19f;}}_19a[0]=_1a1.reverse().join(_196.group||",");return _19a.join(_196.decimal||".");};dojo.number.regexp=function(_1a3){return dojo.number._parseInfo(_1a3).regexp;};dojo.number._parseInfo=function(_1a4){_1a4=_1a4||{};var _1a5=dojo.i18n.normalizeLocale(_1a4.locale),_1a6=dojo.i18n.getLocalization("dojo.cldr","number",_1a5),_1a7=_1a4.pattern||_1a6[(_1a4.type||"decimal")+"Format"],_1a8=_1a6.group,_1a9=_1a6.decimal,_1aa=1;if(_1a7.indexOf("%")!=-1){_1aa/=100;}else{if(_1a7.indexOf("‰")!=-1){_1aa/=1000;}else{var _1ab=_1a7.indexOf("¤")!=-1;if(_1ab){_1a8=_1a6.currencyGroup||_1a8;_1a9=_1a6.currencyDecimal||_1a9;}}}var _1ac=_1a7.split(";");if(_1ac.length==1){_1ac.push("-"+_1ac[0]);}var re=dojo.regexp.buildGroupRE(_1ac,function(_1ad){_1ad="(?:"+dojo.regexp.escapeString(_1ad,".")+")";return _1ad.replace(dojo.number._numberPatternRE,function(_1ae){var _1af={signed:false,separator:_1a4.strict?_1a8:[_1a8,""],fractional:_1a4.fractional,decimal:_1a9,exponent:false},_1b0=_1ae.split("."),_1b1=_1a4.places;if(_1b0.length==1&&_1aa!=1){_1b0[1]="###";}if(_1b0.length==1||_1b1===0){_1af.fractional=false;}else{if(_1b1===undefined){_1b1=_1a4.pattern?_1b0[1].lastIndexOf("0")+1:Infinity;}if(_1b1&&_1a4.fractional==undefined){_1af.fractional=true;}if(!_1a4.places&&(_1b1<_1b0[1].length)){_1b1+=","+_1b0[1].length;}_1af.places=_1b1;}var _1b2=_1b0[0].split(",");if(_1b2.length>1){_1af.groupSize=_1b2.pop().length;if(_1b2.length>1){_1af.groupSize2=_1b2.pop().length;}}return "("+dojo.number._realNumberRegexp(_1af)+")";});},true);if(_1ab){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_1b3,_1b4,_1b5,_1b6){var prop=["symbol","currency","displayName"][_1b5.length-1],_1b7=dojo.regexp.escapeString(_1a4[prop]||_1a4.currency||"");_1b4=_1b4?"[\\s\\xa0]":"";_1b6=_1b6?"[\\s\\xa0]":"";if(!_1a4.strict){if(_1b4){_1b4+="*";}if(_1b6){_1b6+="*";}return "(?:"+_1b4+_1b7+_1b6+")?";}return _1b4+_1b7+_1b6;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_1a8,decimal:_1a9,factor:_1aa};};dojo.number.parse=function(_1b8,_1b9){var info=dojo.number._parseInfo(_1b9),_1ba=(new RegExp("^"+info.regexp+"$")).exec(_1b8);if(!_1ba){return NaN;}var _1bb=_1ba[1];if(!_1ba[1]){if(!_1ba[2]){return NaN;}_1bb=_1ba[2];info.factor*=-1;}_1bb=_1bb.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _1bb*info.factor;};dojo.number._realNumberRegexp=function(_1bc){_1bc=_1bc||{};if(!("places" in _1bc)){_1bc.places=Infinity;}if(typeof _1bc.decimal!="string"){_1bc.decimal=".";}if(!("fractional" in _1bc)||/^0/.test(_1bc.places)){_1bc.fractional=[true,false];}if(!("exponent" in _1bc)){_1bc.exponent=[true,false];}if(!("eSigned" in _1bc)){_1bc.eSigned=[true,false];}var _1bd=dojo.number._integerRegexp(_1bc),_1be=dojo.regexp.buildGroupRE(_1bc.fractional,function(q){var re="";if(q&&(_1bc.places!==0)){re="\\"+_1bc.decimal;if(_1bc.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_1bc.places+"}";}}return re;},true);var _1bf=dojo.regexp.buildGroupRE(_1bc.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_1bc.eSigned})+")";}return "";});var _1c0=_1bd+_1be;if(_1be){_1c0="(?:(?:"+_1c0+")|(?:"+_1be+"))";}return _1c0+_1bf;};dojo.number._integerRegexp=function(_1c1){_1c1=_1c1||{};if(!("signed" in _1c1)){_1c1.signed=[true,false];}if(!("separator" in _1c1)){_1c1.separator="";}else{if(!("groupSize" in _1c1)){_1c1.groupSize=3;}}var _1c2=dojo.regexp.buildGroupRE(_1c1.signed,function(q){return q?"[-+]":"";},true);var _1c3=dojo.regexp.buildGroupRE(_1c1.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_1c1.groupSize,grp2=_1c1.groupSize2;if(grp2){var _1c4="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_1c4+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_1c4;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _1c2+_1c3;};}if(!dojo._hasResource["dijit.form.NumberTextBox"]){dojo._hasResource["dijit.form.NumberTextBox"]=true;dojo.provide("dijit.form.NumberTextBox");dojo.declare("dijit.form.NumberTextBoxMixin",null,{regExpGen:dojo.number.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:dojo.number.format,_setConstraintsAttr:function(_1c5){var _1c6=typeof _1c5.places=="number"?_1c5.places:0;if(_1c6){_1c6++;}if(typeof _1c5.max!="number"){_1c5.max=9*Math.pow(10,15-_1c6);}if(typeof _1c5.min!="number"){_1c5.min=-9*Math.pow(10,15-_1c6);}this.inherited(arguments,[_1c5]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}},_onFocus:function(){if(this.disabled){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _1c7=this.format(val,this.constraints);if(_1c7!==undefined){this.textbox.value=_1c7;}}this.inherited(arguments);},format:function(_1c8,_1c9){var _1ca=String(_1c8);if(typeof _1c8!="number"){return _1ca;}if(isNaN(_1c8)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(_1c8,_1c9))&&_1c9.exponent!==false&&/\de[-+]?\d/i.test(_1ca)){return _1ca;}if(this.editOptions&&this._focused){_1c9=dojo.mixin({},_1c9,this.editOptions);}return this._formatter(_1c8,_1c9);},parse:dojo.number.parse,_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_1cb){return (_1cb===null||_1cb===""||_1cb===undefined)?NaN:this.inherited(arguments);},serialize:function(_1cc,_1cd){return (typeof _1cc!="number"||isNaN(_1cc))?"":this.inherited(arguments);},_setValueAttr:function(_1ce,_1cf,_1d0){if(_1ce!==undefined&&_1d0===undefined){_1d0=String(_1ce);if(typeof _1ce=="number"){if(isNaN(_1ce)){_1d0="";}else{if(("rangeCheck" in this&&this.rangeCheck(_1ce,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_1d0)){_1d0=undefined;}}}else{if(!_1ce){_1d0="";_1ce=NaN;}else{_1ce=undefined;}}}this.inherited(arguments,[_1ce,_1cf,_1d0]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+dojo.number._realNumberRegexp(dojo.mixin({},this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_1d1){if(!this._focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});dojo.declare("dijit.form.NumberTextBox",[dijit.form.RangeBoundTextBox,dijit.form.NumberTextBoxMixin],{});}if(!dojo._hasResource["dijit.form.NumberSpinner"]){dojo._hasResource["dijit.form.NumberSpinner"]=true;dojo.provide("dijit.form.NumberSpinner");dojo.declare("dijit.form.NumberSpinner",[dijit.form._Spinner,dijit.form.NumberTextBoxMixin],{adjust:function(val,_1d2){var tc=this.constraints,v=isNaN(val),_1d3=!isNaN(tc.max),_1d4=!isNaN(tc.min);if(v&&_1d2!=0){val=(_1d2>0)?_1d4?tc.min:_1d3?tc.max:0:_1d3?this.constraints.max:_1d4?tc.min:0;}var _1d5=val+_1d2;if(v||isNaN(_1d5)){return val;}if(_1d3&&(_1d5>tc.max)){_1d5=tc.max;}if(_1d4&&(_1d5<tc.min)){_1d5=tc.min;}return _1d5;},_onKeyPress:function(e){if((e.charOrCode==dojo.keys.HOME||e.charOrCode==dojo.keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _1d6=this.constraints[(e.charOrCode==dojo.keys.HOME?"min":"max")];if(typeof _1d6=="number"){this._setValueAttr(_1d6,false);}dojo.stopEvent(e);}}});}if(!dojo._hasResource["depot.AccountTypeFormController"]){dojo._hasResource["depot.AccountTypeFormController"]=true;dojo.provide("depot.AccountTypeFormController");dojo.declare("depot.AccountTypeFormController",null,{template:null,constructor:function(){this.getMetaData();},getMetaData:function(){var _1d7={url:"jaxrs/Customer/TypeForm",handleAs:"json",load:dojo.hitch(this,this.setAccount),error:dojo.hitch(this,this.loadAccountTypeError)};dojo.xhrGet(_1d7);},setAccount:function(data){if(!this.template){this.template=new dojox.dtl.Template(dojo.moduleUrl("account","accountType.html"));}var _1d8=new dojox.dtl.Context({group:data});dijit.byId("typeFormTile").set("content",this.template.render(_1d8));dijit.byId("typeFormTile").set("title",data.label);if(accountController.account){dijit.byId("typeForm").set("value",accountController.account);}dojo.connect(dijit.byId("updateTypeButton"),"onClick",this,this.updateAccountType);dojo.query(".formValue","typeForm").forEach(dojo.hitch(this,function(item){dojo.connect(item,"onchange",this,this.isValid);dojo.connect(item,"onkeyup",this,this.isValid);}));},loadAccountTypeError:function(_1d9){console.error(_1d9);},updateAccountType:function(){dijit.byId("updateTypeButton").makeBusy();var data={"type":accountController.account.type};data=dojo.mixin(data,dijit.byId("typeForm").get("value"));var _1da={url:"jaxrs/Customer/Info",headers:{"Content-Type":"application/json"},postData:dojo.toJson(data),load:dojo.hitch(this,this.updateTypeSuccess),error:dojo.hitch(this,this.updateTypeError)};dojo.xhrPost(_1da);},updateTypeSuccess:function(data){dijit.byId("updateTypeButton").cancel();dojo.place("<div class='successMessage'>Update Succesful</div>","resultType","only");},updateTypeError:function(_1db){console.error(_1db);dijit.byId("updateTypeButton").cancel();dojo.place("<div class='errorMessage'>Update Failed</div>","resultType","only");},isValid:function(){if(dijit.byId("typeForm").isValid()){dijit.byId("updateTypeButton").set("disabled",false);return true;}else{dijit.byId("updateTypeButton").set("disabled",true);return false;}}});}if(!dojo._hasResource["dojox.dtl._Templated"]){dojo._hasResource["dojox.dtl._Templated"]=true;dojo.provide("dojox.dtl._Templated");dojo.declare("dojox.dtl._Templated",dijit._Templated,{_dijitTemplateCompat:false,buildRendering:function(){var node;if(this.domNode&&!this._template){return;}if(!this._template){var t=this.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);if(t instanceof dojox.dtl.Template){this._template=t;}else{node=t;}}if(!node){var _1dc=new dojox.dtl._Context(this);if(!this._created){delete _1dc._getter;}var _1dd=dojo._toDom(this._template.render(_1dc));if(_1dd.nodeType!==1&&_1dd.nodeType!==3){for(var i=0,l=_1dd.childNodes.length;i<l;++i){node=_1dd.childNodes[i];if(node.nodeType==1){break;}}}else{node=_1dd;}}this._attachTemplateNodes(node);if(this.widgetsInTemplate){var _1de=dojo.parser,qry,attr;if(_1de._query!="[dojoType]"){qry=_1de._query;attr=_1de._attrName;_1de._query="[dojoType]";_1de._attrName="dojoType";}var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,inherited:{dir:this.dir,lang:this.lang}}));if(qry){_1de._query=qry;_1de._attrName=attr;}this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}if(this.domNode){dojo.place(node,this.domNode,"before");this.destroyDescendants();dojo.destroy(this.domNode);}this.domNode=node;this._fillContent(this.srcNodeRef);},_templateCache:{},getCachedTemplate:function(_1df,_1e0,_1e1){var _1e2=this._templateCache;var key=_1e0||_1df;if(_1e2[key]){return _1e2[key];}_1e0=dojo.string.trim(_1e0||dojo.cache(_1df,{sanitize:true}));if(this._dijitTemplateCompat&&(_1e1||_1e0.match(/\$\{([^\}]+)\}/g))){_1e0=this._stringRepl(_1e0);}if(_1e1||!_1e0.match(/\{[{%]([^\}]+)[%}]\}/g)){return _1e2[key]=dojo._toDom(_1e0);}else{return _1e2[key]=new dojox.dtl.Template(_1e0);}},render:function(){this.buildRendering();},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});}if(!dojo._hasResource["depot.widget.DynamicForm"]){dojo._hasResource["depot.widget.DynamicForm"]=true;dojo.provide("depot.widget.DynamicForm");dojo.declare("depot.widget.DynamicForm",[dijit._Widget,dojox.dtl._Templated],{widgetsInTemplate:true,refreshTopic:"",updateTopic:"formUpdate",metaUrl:"",updateUrl:"",typeForm:"",group:"",dynaRoot:"",templateString:"<div dojoAttachPoint=\"dynaRoot\">\n<div dojoType=\"dijit.TitlePane\" dojoAttachPoint=\"typeFormTile\">\n<div dojoType=\"dijit.form.Form\" dojoAttachPoint=\"typeForm\">\n{% for groupForm in group.formData %}\n            <div class=\"formField\">\n                <div class=\"formHeader\"><label>{{groupForm.label}}</label></div>\n                <div class=\"formValue\">\n               \t\n               {% ifequal groupForm.type \"string\" %}\n                <div dojoType=\"dijit.form.ValidationTextBox\" trim=true name=\"{{groupForm.name}}\" \n               {% if groupForm.required %} required=\"{{groupForm.required}}\" {% endif %}\n               {% if groupForm.promptMessage %} promptMessage=\"{{groupForm.promptMessage}}\" {% endif %}\n               {% if groupForm.regExp %} regExp=\"{{groupForm.regExp}}\" {% endif %}\n\t\t\t   {% if groupForm.invalidMessage %}invalidMessage=\"{{groupForm.invalidMessage}}\"{% endif %}\n\t\t\t   {% if groupForm.readonly %}readonly=\"{{groupForm.readonly}}\"{% endif %}\n\t\t\t\tdojoAttachEvent=\"onkeyup:isValid\"\n\t\t\t\t>\n\t\t\t\t\n\t\t\t\t</div>\n                \n\t\t\t\t{% endifequal %}\n\t\t\t\t {% ifequal groupForm.type \"number\" %}\n                <div dojoType=\"dijit.form.NumberSpinner\" name=\"{{groupForm.name}}\" \n               {% if groupForm.required %} required=\"{{groupForm.required}}\" {% endif %}\n               {% if groupForm.promptMessage %} promptMessage=\"{{groupForm.promptMessage}}\" {% endif %}\n               {% if groupForm.regExp %} regExp=\"{{groupForm.regExp}}\" {% endif %}\n\t\t\t   {% if groupForm.invalidMessage %}invalidMessage=\"{{groupForm.invalidMessage}}\"{% endif %}\n\t\t\t   {% if groupForm.readonly %}readonly=\"{{groupForm.readonly}}\"{% endif %}\n\t\t\t   {% if groupForm.constraints %}constraints=\"{{groupForm.constraints}}\"{% endif %}\n\t\t\t   smallDelta=\"1\" intermediateChanges=\"true\" dojoAttachEvent=\"onChange:isValid\"\n\t\t\t\t>\n\t\t\t\t</div>\n                \n\t\t\t\t{% endifequal %}\n\t\t\t\t\n\t\t\t\t{% ifequal groupForm.type \"text\" %}\n                <div dojoType=\"dijit.form.Textarea\" name=\"{{groupForm.name}}\" \n               {% if groupForm.required %} required=\"{{groupForm.required}}\" {% endif %}\n               {% if groupForm.promptMessage %} promptMessage=\"{{groupForm.promptMessage}}\" {% endif %}\n\t\t\t   {% if groupForm.invalidMessage %}invalidMessage=\"{{groupForm.invalidMessage}}\"{% endif %}\n\t\t\t   {% if groupForm.readonly %}readonly=\"{{groupForm.readonly}}\"{% endif %}\n\t\t\t   dojoAttachEvent=\"onkeyup:isValid\"\n\t\t\t\t>\n\t\t\t\t\n\t\t\t\t</div>\n                \n\t\t\t\t{% endifequal %}\n        \n                </div>\n                <div class=\"clear\">\n                </div>\n            </div>\n{% endfor %}\n <div class=\"formField\">\n \t<button dojoType=\"dojox.form.BusyButton\" busyLabel=\"Updating {{group.label}}...\" dojoAttachPoint=\"updateTypeButton\" dojoAttachEvent=\"onClick:updateForm\" disabled>Update {{group.label}}</button>\n\t<div dojoAttachPoint=\"resultType\"></div>\n </div>\n </div>\n </div>\n </div>\n",typeFormTile:"",updateTypeButton:"",formData:"",extraData:"",resultType:"",postMixInProperties:function(){if(this.formData){this.formData=eval(this.formData);}dojo.subscribe(this.refreshTopic,this,this.populateForm);this.inherited(arguments);},startup:function(){var _1e3={url:this.metaUrl,handleAs:"json",load:dojo.hitch(this,this.setMeta),error:dojo.hitch(this,this.loadMetaError)};dojo.xhrGet(_1e3);this.inherited(arguments);},setMeta:function(data){this.group=data;this.render();this.typeFormTile.set("title",data.label);if(this.formData){this.typeForm.set("value",this.formData);}},loadMetaError:function(_1e4){console.error(_1e4);},populateForm:function(_1e5){console.debug("Populating form data called",_1e5);if(_1e5){this.formData=_1e5;this.typeForm.set("value",_1e5);console.debug("Populated Form",_1e5);}},updateForm:function(){this.updateTypeButton.makeBusy();console.debug("Updating",this.extraData);data=dojo.mixin(eval(this.extraData),this.typeForm.get("value"));var _1e6={url:this.updateUrl,headers:{"Content-Type":"application/json"},postData:dojo.toJson(data),load:dojo.hitch(this,this.updateFormSuccess),error:dojo.hitch(this,this.updateFormError)};dojo.xhrPost(_1e6);},updateFormSuccess:function(data){this.updateTypeButton.cancel();dojo.place("<div class='successMessage'>Update Succesful</div>",this.resultType,"only");dojo.publish(this.updateTopic,[this.typeForm.get("value")]);},updateFormError:function(_1e7){console.error(_1e7);this.updateTypeButton.cancel();dojo.place("<div class='errorMessage'>Update Failed</div>",this.resultType,"only");},isValid:function(){console.debug("isValid");if(this.typeForm.isValid()){this.updateTypeButton.set("disabled",false);return true;}else{this.updateTypeButton.set("disabled",true);return false;}}});}dojo.i18n._preloadLocalizations("dojo.nls.depot_account",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nb","nl","nl-nl","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
